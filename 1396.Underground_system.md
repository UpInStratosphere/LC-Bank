- use concantenated string of start and end station as the key, and map it to the total frequency and time incurred by everyone.
- two hashmaps: one to store currently unfinished trips for each commuter (commuter that entered the station but has not exited their destination station yet), and another to store completed trips and mapped to the trips total time and total frequency.
    - the core is how to efficiently find the trip by creating a unique hashkey for each trip: concatenate the station names with a delimiter to create unique trip name
- Another thing is to making sure that the for each checking out function call, the respective checking in data for this commuter is already stored. 

```cpp
class UndergroundSystem {
private:
    unordered_map<string, pair<int, int>>trips; // trips : [TotalTime, frequency] //hashmap for all completed trips
    unordered_map<int, pair<string, int>>person; // Uid : [StationName, Time] //person who only checked in
public:
    UndergroundSystem() {
    //no need to initialize anything since both hashmaps will be empty upon initialization
    }
    
    void checkIn(int id, string stationName, int t) { //starts the trip
        person[id] = {stationName, t};
    }
    
    void checkOut(int id, string stationName, int t) { //completes the trip
        string starting_station= starting[id].first;
        int checkIn_time = starting[id].second;
        string route = starting_station + "_" + stationName;
        //if this is the first trip, trip[route] would automatically created a default pair with 0 for each part
        trips[route].first += t - checkIn_time;
        trips[route].second += 1;
    }
    
    double getAverageTime(string startStation, string endStation) {
        string route = startStation + "_" + endStation;
        int total_time = trips[route].first, freq = trips[route].second;
        return (double) total_time / freq;
    }
};
```
