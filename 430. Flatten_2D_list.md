- the connect function has 3 purposes
  - connect the children level nodes and start traversing from the next node
  - connect the children level to curr level next
  - traverse the current level

```cpp
Node* flatten(Node* head) {
    Node* start = head;
    Node* upper = NULL;
    connect(start, upper);
    return head;
}

void connect(Node* curr, Node* upper){ 
    while(curr){
        // connect the lower level nodes and return to curr level
        if(curr->child){ 
            Node* todo = curr->next; 
            
            curr->next = curr->child; 
            curr->child->prev = curr;
            curr->child = NULL;       
            connect(curr->next, todo); 

            curr = todo;
            continue;
        }

        //connect curr level to upper level 
        if(!curr->next && upper){
            curr->next = upper;
            upper->prev = curr;
            return;
        } 
        
        //keep traversing the curr level
        curr = curr->next; 
    }  
}
 ```
